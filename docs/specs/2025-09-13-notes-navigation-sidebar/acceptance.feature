# language: zh-TW
功能: 筆記導覽側邊欄
  作為網站訪問者
  我想要使用側邊欄快速瀏覽和導覽筆記
  以便我可以輕鬆探索和閱讀不同的筆記內容

  背景:
    假設 筆記系統已經正確設定
    並且 public/notes-src 目錄中存在多個筆記檔案和資料夾
    並且 用戶正在桌面瀏覽器中訪問筆記頁面

  場景: 顯示樹狀目錄結構
    假設 用戶訪問任何筆記頁面
    當 頁面載入完成時
    那麼 應該在左側顯示側邊欄
    並且 側邊欄應該顯示 public/notes-src 的樹狀目錄結構
    並且 每個資料夾應該有折疊/展開圖示
    並且 檔案和資料夾應該有適當的層級縮排

  場景: 資料夾折疊和展開功能
    假設 用戶在筆記頁面上看到側邊欄
    並且 有一個資料夾是展開狀態
    當 用戶點擊該資料夾的折疊圖示時
    那麼 該資料夾應該收合，隱藏其子項目
    並且 折疊圖示應該更新為展開狀態的圖示
    當 用戶再次點擊該資料夾的展開圖示時
    那麼 該資料夾應該展開，顯示其子項目

  場景: 點擊筆記項目進行導覽
    假設 用戶在筆記頁面上看到側邊欄
    並且 側邊欄中顯示了多個筆記項目
    當 用戶點擊任意一個筆記項目時
    那麼 應該導覽到該筆記的頁面
    並且 URL 應該正確對應到該筆記的路徑
    並且 頁面內容應該顯示該筆記的內容

  場景: 目前頁面的筆記項目高亮顯示
    假設 用戶正在閱讀特定筆記頁面
    當 側邊欄載入時
    那麼 對應當前頁面的筆記項目應該被高亮顯示
    並且 該筆記所在的資料夾路徑應該自動展開
    並且 高亮樣式應該與其他項目明顯區別

  場景: 桌面版側邊欄收合功能
    假設 用戶在桌面瀏覽器中訪問筆記頁面
    並且 側邊欄預設為展開狀態
    當 用戶點擊側邊欄的收合按鈕時
    那麼 側邊欄應該收合並隱藏樹狀結構
    並且 主要內容區域應該擴展以占用更多空間
    並且 應該顯示展開按鈕供用戶重新展開側邊欄

  場景: 手機版側邊欄覆蓋層模式
    假設 用戶在手機瀏覽器中訪問筆記頁面
    並且 側邊欄預設為收合狀態
    當 用戶點擊漢堡選單圖示時
    那麼 側邊欄應該以覆蓋層形式展開
    並且 側邊欄應該覆蓋在主要內容之上
    並且 主要內容區域應該有遮罩效果
    當 用戶點擊遮罩區域時
    那麼 側邊欄應該自動關閉

  場景: 檔案名稱正確顯示
    假設 用戶在筆記頁面上看到側邊欄
    當 側邊欄顯示筆記檔案時
    那麼 每個筆記項目應該顯示檔案名稱（去除 .md 副檔名）
    並且 支援中文檔名的正確顯示
    並且 檔名中的空格和特殊字符應該正確處理

  場景: 響應式設計行為
    假設 用戶在不同尺寸的螢幕上訪問筆記頁面
    當 螢幕寺吋從桌面版改變為手機版時
    那麼 側邊欄應該自動適應手機版的行為模式
    並且 展開方式應該從固定寬度改變為覆蓋層模式
    當 螢幕尺寸從手機版改變為桌面版時
    那麼 側邊欄應該恢復桌面版的固定寬度顯示模式

  場景: 資料夾狀態記憶功能
    假設 用戶在筆記頁面上折疊或展開了某些資料夾
    當 用戶導覽到另一個筆記頁面時
    那麼 之前設定的資料夾展開/收合狀態應該被保持
    並且 側邊欄的展開/收合狀態也應該被記住

  場景大綱: 不同類型檔案的正確處理
    假設 public/notes-src 目錄中包含 "<file_type>" 檔案
    當 側邊欄載入時
    那麼 應該 "<action>" 該檔案

    例子:
      | file_type | action |
      | .md       | 顯示   |
      | .txt      | 忽略   |
      | .canvas   | 忽略   |
      | .pdf      | 忽略   |